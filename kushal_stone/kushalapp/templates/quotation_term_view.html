<!DOCTYPE html>
<html>
<head>
    <title>Quotation Terms</title>
    
</head>

<body>
    <h2>Quotation Terms</h2>
    <a href="{% url 'add_quotation_term' %}">+ Add Quotation Term</a>
    <table border="1" cellpadding="8" cellspacing="0">
        <tr>
            <th>ID</th>
            <th>Description</th>
            <th>Actions</th>
        </tr>
        {% for term in terms %}
        <tr>
            <td>{{ term.id }}</td>
            <td>{{ term.description }}</td>
            <td>
                <a href="{% url 'edit_quotation_term' term.id %}">Edit</a> |
<a href="javascript:void(0);" onclick="confirmDelete('{% url 'delete_quotation_term' term.id %}')" style="color:red;">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="3">No quotation terms found.</td></tr>
        {% endfor %}
    </table>



    <!-- Delete Confirmation Modal -->
<div id="deleteModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
    background:rgba(0,0,0,0.6); z-index:1000; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:30px; border-radius:10px; text-align:center; width:300px;">
    <h3>Are you sure you want to delete?</h3>
    <br>
    <button onclick="proceedDelete()" style="background-color:red; color:white; padding:8px 15px; border:none; border-radius:5px;">Yes, Delete</button>
    &nbsp;
    <button onclick="closeModal()" style="padding:8px 15px; border:none; border-radius:5px;">Cancel</button>
  </div>
</div>


<script>
  let deleteUrl = "";

  function confirmDelete(url) {
    deleteUrl = url;
    document.getElementById('deleteModal').style.display = 'flex';
  }

  function closeModal() {
    document.getElementById('deleteModal').style.display = 'none';
    deleteUrl = "";
  }

  function proceedDelete() {
    if (deleteUrl) {
      window.location.href = deleteUrl;
    }
  }
</script>

</body>
</html>
